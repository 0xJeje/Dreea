<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dreea</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <header id="header" class="header">
    <a href="https://dreea.art" class="logo">
      <img src="logo.png" alt="Dreea Logo">
    </a>
  </header>
  <!-- Swiper Container -->
  <div class="swiper">
    <div class="swiper-wrapper">
      <!-- Slide 1 -->
      <div class="swiper-slide" data-main-color="#dbdada" data-secondary-color="#1A1A1A">
        <div class="slide-content">
          <video autoplay muted loop id="myVideo"><source src="Backgrounds/Muzica populara.mp4" type="video/mp4"></video>
        </div>
      </div>

      <!-- Slide 2 -->
      <div class="swiper-slide" data-main-color="#dbdada" data-secondary-color="#1A1A1A">
        <div class="slide-content">
          <video autoplay muted loop id="myVideo"><source src="Backgrounds/Scuze.mp4" type="video/mp4"></video>
        </div>
      </div>

      <!-- Slide 3 -->
      <div class="swiper-slide" data-main-color="#dbdada" data-secondary-color="#1A1A1A">
        <div class="slide-content">
          <video autoplay muted loop id="myVideo"><source src="Backgrounds/Ceau Bau.mp4" type="video/mp4"></video>
        </div>
      </div>

      <!-- Slide 4 -->
      <div class="swiper-slide" >
        <div class="slide-content" style="background-image: url('Backgrounds/mantelegi.jpg')"></div>

      </div>

      <!-- Slide 5 -->
      <div class="swiper-slide" >
        <div class="slide-content" style="background-image: url('Backgrounds/dph-vertical.jpg')"></div>
      </div> </div> </div>
 
    <div class="swiper-pagination"></div>

<div class="buttons-part" id="static-buttons"></div> 

      <div class="social-icons-section">
        <ul class="footer-social-wrap">
            <li><a target="_blank" href="https://www.facebook.com/profile.php?id=61556838633655"><img src="facebook-f.svg" class="social-button icon-facebook"></a></li>
            <li><a target="_blank" href="https://music.apple.com/us/artist/dreea/1615971611"><img src="apple.svg" class="social-button icon-apple"></a></li>
            <li><a target="_blank" href="https://www.youtube.com/@dreea.mp3"><img src="youtube.svg" class="social-button icon-youtube"></a></li>
            <li><a target="_blank" href="https://open.spotify.com/artist/0bX3umQnEcqtzLE51yMUvf"><img src="spotify.svg" class="social-button icon-spotify"></a></li>
            <li><a target="_blank" href="https://www.tiktok.com/@dreea.mp3"><img src="tiktok.svg" class="social-button icon-tiktok"></a></li>
            <li><a target="_blank" href="https://www.instagram.com/dreea.mp3/"><img src="instagram.png" class="social-button icon-instagram"></a></li>
        </div>
      </div>

<audio id="slide-audio" style="display:none;"></audio>

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>

  function setHeight() {
  document.querySelector("body").style.height = window.innerHeight + "px";
}
window.addEventListener("resize", setHeight);
setHeight(); 

  // Button data for each slide (in order)
  const buttonData = [
    {
      video: "https://www.youtube.com/watch?v=ihxxiyqWfNY",
      listen: "https://orcd.co/ceaubau",
      play: "Music/Dreea - Muzica Populara.mp3"
    },
    {
      video: "https://www.youtube.com/watch?v=ihxxiyqWfNY",
      listen: "https://orcd.co/ceaubau",
      play: "Music/Dreea - Scuze.mp3"
    },
    {
      video: "https://www.youtube.com/watch?v=ihxxiyqWfNY",
      listen: "https://orcd.co/ceaubau",
      play: "Music/Dreea - Ceau Bau.mp3"
    },
    {
      video: "https://www.youtube.com/watch?v=ihxxiyqWfNY",
      listen: "https://orcd.co/ceaubau",
      play: "Music/Dreea X Bruja - Ma-ntelegi.mp3"
    },
    {
      video: "https://www.youtube.com/watch?v=ihxxiyqWfNY",
      listen: "https://orcd.co/ceaubau",
      play: "Music/Dreea - Drama pe hartie.mp3"
    }
  ];

function updateButtons(index) {
  const data = buttonData[index % buttonData.length];
  if (data.video || data.listen || data.play) {
    document.getElementById('static-buttons').innerHTML = `
      <a target="_blank" href="${data.video}" class="CTA-button">Vezi videoclip</a>
      <a target="_blank" href="${data.listen}" class="CTA-button">AscultÄƒ acum</a>
      <button type="button" class="CTA-button play-button" id="play-audio-btn" aria-label="Play">
        <span id="play-icon">
          <svg height="100%" viewBox="0 0 28 28" fill="none">
            <polygon points="11,9 20,14 11,19" fill="currentColor"/>
          </svg>
        </span>
        <span id="pause-icon" style="display:none;">
          <svg height="100%" viewBox="0 0 28 28" fill="none">
            <rect x="11" y="9" width="2.5" height="10" fill="currentColor"/>
            <rect x="15" y="9" width="2.5" height="10" fill="currentColor"/>
          </svg>
        </span>
      </button>
    `;

    const playBtn = document.getElementById('play-audio-btn');
    const audio = document.getElementById('slide-audio');
    const playIcon = document.getElementById('play-icon');
    const pauseIcon = document.getElementById('pause-icon');

    // Always set the correct audio source for the slide
    audio.src = data.play;
    audio.pause();
    playIcon.style.display = '';
    pauseIcon.style.display = 'none';

    playBtn.addEventListener('click', function() {
      swiper.autoplay.stop();
      if (audio.paused) {
        audio.play();
        playIcon.style.display = 'none';
        pauseIcon.style.display = '';
      } else {
        audio.pause();
        playIcon.style.display = '';
        pauseIcon.style.display = 'none';
      }
    });

    // When audio ends, reset button to play state
    audio.onended = function() {
      playIcon.style.display = '';
      pauseIcon.style.display = 'none';
    };
  } else {
    document.getElementById('static-buttons').innerHTML = '';
  }
}

function updateLogoInvert(index) {
  const logoImg = document.querySelector('.logo img');
  if (logoImg) {
    if ([2, 3, 4].includes(index)) {
      logoImg.classList.add('invert-logo');
    } else {
      logoImg.classList.remove('invert-logo');
    }
  }
}

  const swiper = new Swiper('.swiper', {
  loop: true,
  direction: 'vertical',
  parallax: true,
  speed: 600,
  navigation: {
    nextEl: '.swiper-button-next',
    prevEl: '.swiper-button-prev',
  },
  keyboard: true,
  autoplay: {
    delay: 5000, // Time in ms between slides
    disableOnInteraction: true // Keep autoplay after user interaction
  },
  pagination: {
    el: '.swiper-pagination',
    clickable: true,
  },
on: {
  slideChange: function () {
    const realIndex = this.realIndex;
    const activeSlide = this.slides[this.activeIndex];
    const mainColor = activeSlide.getAttribute('data-main-color') || '#dbdada';
    const secondaryColor = activeSlide.getAttribute('data-secondary-color') || '#000';
    document.documentElement.style.setProperty('--main-color', mainColor);
    document.documentElement.style.setProperty('--secondary-color', secondaryColor);
    updateButtons(realIndex);

const logoImg = document.querySelector('.logo img');
    if (logoImg) {
      logoImg.classList.remove('animate');
      void logoImg.offsetWidth;
      logoImg.classList.add('animate');
    }
    updateLogoInvert(realIndex); // <-- Add this line
  }
}
  });


  // Set initial colors and buttons on load
  window.addEventListener('DOMContentLoaded', () => {
    const activeSlide = document.querySelector('.swiper-slide-active');
    const mainColor = activeSlide.getAttribute('data-main-color') || '#dbdada';
    const secondaryColor = activeSlide.getAttribute('data-secondary-color') || '#000';
    document.documentElement.style.setProperty('--main-color', mainColor);
    document.documentElement.style.setProperty('--secondary-color', secondaryColor);
    updateButtons(0);
    updateLogoInvert(0);
  });
</script>
</body>
</html>
